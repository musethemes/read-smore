const t={blockClassName:"read-smore",wordsCount:70,charsCount:150,moreText:"Read More",lessText:"Read Less",ellipse:"...",isInline:!1,animate:!1,animationDuration:400};function e(e,n){n=Object.assign({},t,n);let a={originalContentArr:[],truncatedContentArr:[]};function r(t,r){t.dataset.readSmoreWords||n.wordsCount;const i=t.dataset.readSmoreChars||n.wordsCount,o=t.innerHTML,s=function(t,e,a=!1){const r=function(t){return t.replace(/(^\s*)|(\s*$)/gi,"")}(t),i=n.ellipse||"...";return a?r.split("").slice(0,e).join("")+i:r.split(/\s+/).slice(0,e).join(" ")+i}(o,i,!!t.dataset.readSmoreChars),c=t.dataset.readSmoreWords?o.length:function(t){return t.length}(o);if(a.originalContentArr.push(o),a.truncatedContentArr.push(s),i<c){t.innerHTML=a.truncatedContentArr[r],function(t){const r=document.createElement("span");r.className=`${n.blockClassName}__link-wrap`,r.innerHTML=`<a id=${n.blockClassName}_${t}\n                             class=${n.blockClassName}__link\n                             style="cursor:pointer;">\n                             ${n.moreText}\n                          </a>`,e[t].after(r),function(t){document.querySelector(`#${n.blockClassName}_${t}`).addEventListener("click",(r=>{e[t].classList.toggle("is-expanded");const i=r.currentTarget;"true"!==i.dataset.clicked?(e[t].innerHTML=a.originalContentArr[t],i.innerHTML=n.lessText,i.dataset.clicked=!0,n.animate&&($(e[t]).css("height",$(e[t]).attr("data-read-smore-truncated-height")),$(e[t]).animate({height:$(e[t]).attr("data-read-smore-full-height")+"px"},n.animationDuration,(function(){$(this).height("auto")})))):(i.innerHTML=n.moreText,i.dataset.clicked=!1,n.animate?($(e[t]).css({height:$(e[t]).attr("data-read-smore-full-height"),overflow:"hidden"}),$(e[t]).animate({height:$(e[t]).attr("data-read-smore-truncated-height")+"px"},n.animationDuration,(function(){$(this).height("auto"),$(this).css("overflow",""),e[t].innerHTML=a.truncatedContentArr[t]}))):e[t].innerHTML=a.truncatedContentArr[t])}))}(t)}(r)}}return{init:function(){document.fonts.ready.then((function(){for(let t=0,a=e.length;t<a;++t)n.animate&&$(e[t]).attr("data-read-smore-full-height",Math.ceil($(e[t]).outerHeight(!0))),r(e[t],t),n.animate&&$(e[t]).attr("data-read-smore-truncated-height",Math.ceil($(e[t]).outerHeight(!0)))}))}}}e.options=t;e(document.querySelectorAll(".js-read-smore")).init();
//# sourceMappingURL=index.da4fbfc2.js.map
